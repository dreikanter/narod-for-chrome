<!DOCTYPE html>

<html>
<head>
<script>

String.prototype.startsWith = function(str) {
    return (this.indexOf(str) === 0);
}

function checkForValidUrl(tabId, changeInfo, tab) {
	if (tab.url.match(/^http:\/\/narod(\.yandex)?\.ru\/disk\/\d+\/.+(\.html)?$/)) {
		chrome.pageAction.show(tabId);
	} else {
		chrome.pageAction.hide(tabId);
	}
};

chrome.tabs.onUpdated.addListener(checkForValidUrl);

</script>
</head>
</html>